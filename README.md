NPB 日本代表予測選出システム　プロトタイプ
[トップページ](top_page.png)
[日本代表選出結果](representative_result1.png)(representative_result2.png)(representative_result3.png)
[球団別分析](team_analysis1.png)team_analysis2.png)(team_analysis3.png)


NPB（日本プロ野球）の公式成績データをもとに、独自の評価指標（Score）を用いて
日本代表候補選手を自動選出するWebアプリケーションです。
 データ収集・加工・可視化・Web表示までを一貫して実装しました。

アプリ概要

対象：NPB 12球団（2010年〜2025年）
対象選手：打者 / 投手
-機能：
  NPB公式サイトからの成績データ取得
  データ正規化・統合
  独自スコアによる選手評価
  年度別 日本代表候補の自動選出
  Web画面での表示（Flask）


使用技術

Python
Flask
pandas
HTML / CSS
 Git / GitHub
Flaskを選んだ理由としては、シンプルな構成でWebアプリ全体の流れを理解しやすく、
未経験からWebの仕組みを学ぶ目的に適していると考え採用しました。

ディレクトリ構成（抜粋）
├── app.py 　Flask Webアプリのエントリーポイント
├── scrape_npb_to_csv.py 　NPB公式サイトから成績を取得
├── export_stats.py 　年度別リーグ成績CSVの生成
├── migrate_data.py 　CSVデータの正規化・Score再計算
├── score_utils.py 　打者・投手の評価ロジック
├── data/
│ ├── league/  年度別リーグ成績
│ └── teams/ 　球団別成績データ
├── templates/  HTMLテンプレート

システム全体の処理フロー図

NPB公式サイト
      ↓
1. データ取得（HTML）
・NPB公式サイトから年度別・リーグ別の成績データを取得
・HTMLテーブルを pandas で読み込み
      ↓
２．	データ前処理・正規化
・年度・ページごとに異なる列名や形式を統一
・日本語・英語・チームコードの表記ゆれを補正
・不要な行（合計行・欠損データ）を除外
      ↓
3. データ保存
・正規化したデータを SQLite データベースに保存
・年度・球団ごとに管理可能な構造に整理
      ↓
4. スコア計算（分析ロジック）
・打者・投手ごとに独自の評価指標（Score）を計算
・単純な成績順ではなく、複数指標を組み合わせた総合評価
      ↓
代表メンバー選出
5. データ抽出
・スコア順に並び替え
・日本代表候補（スタメン・ベンチ・投手ローテ）を自動選出
・球団別データも同時に抽出
      ↓
6. Web画面表示
・Flask を用いてWeb画面に表示
・年度切り替え・球団切り替えに対応



制作のきっかけ

野球などのスポーツが好きで、選手成績を数字で比較することに興味がありました。
既存の成績表は項目が多く、「総合的にどの選手が優れているのか」が分かりづらいと感じたため、独自の評価基準で日本代表候補を選出するアプリを作成しました。

どのようなことができるか
このアプリでは以下ができます。
・年度を選ぶと、その年の日本代表候補選手を自動で確認できる
・打者／投手を独自スコアで比較できる
・球団別・年度別に成績を確認できる

＊独自スコア（Score）は、打者では打率・出塁率・長打率・打点などを、
投手では防御率・WHIP・奪三振数などを総合的に評価する指標です。

課題と工夫した点

NPB公式サイトは年度や球団ごとに表の形式や列名が異なっており、そのままではデータを統一して扱うことができませんでした。

そのため、
列名の正規化
欠損データの補完
年度差異への対応
を行い、どの年度でも同じ処理ができるよう工夫しました。


 一番苦労した点

初期はデータ取得から表示までを1つのファイルで実装していたため、
機能追加のたびにコードが複雑になってしまいました。

途中で構成を見直し、
役割ごとにファイルを分割することで、
可読性と保守性を改善しました。



学んだこと

この制作を通して、
単に「動くコード」を書くだけでなく、
後から修正・拡張しやすい設計を考える重要性を学びました。
また、データの前処理や例外対応の大切さについても試行錯誤しながらですが理解が深まりました。

---

今後の改善予定

スコア算出ロジックの改善
データベース化
UI / デザインの改善
スマートフォン表示への最適化

---

実行方法（ローカル）

前提条件：
・Python 3.10 以上
・Git
bash
pip install -r requirements.txt
python app.py
※ データベースファイル（npb_stats.sqlite3）は data/ 配下に配置されています

作者
•	名前：Gaku
•	GitHub：https://github.com/Gaku0207
